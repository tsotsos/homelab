persistence:
  enabled: true
  accessMode: ReadWriteOnce
  size: 10Gi
  storageClass: longhorn

hostNetwork: true

ingress:
  enabled: true
  className: nginx
  annotations:
    #nginx.ingress.kubernetes.io/service-upstream: "true"
    cert-manager.io/common-name: home.kng.house
    cert-manager.io/cluster-issuer: letsencrypt-prod
    external-dns.alpha.kubernetes.io/hostname: home.kng.house
  hosts:
    - host: home.kng.house
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: homeassistant-cert
      hosts:
        - home.kng.house

configuration:
  enabled: true
  forceInit: true
  use_x_forwarded_for: true
  trusted_proxies:
    - 10.43.0.0/16
    - 10.42.0.0/16
    - 10.0.0.1/24
    - 10.0.1.1/24
    - 10.0.2.1/24
    - 10.0.3.1/24
    - 10.0.4.1/24
    - 10.0.5.1/24
addons:
  codeserver:
    enabled: true
    ingress:
      enabled: true
      className: nginx
      annotations:
        #nginx.ingress.kubernetes.io/service-upstream: "true"
        cert-manager.io/common-name: home-code.kng.house
        cert-manager.io/cluster-issuer: letsencrypt-prod
        external-dns.alpha.kubernetes.io/hostname: home-code.kng.house
      hosts:
        - host: home-code.kng.house
          paths:
            - path: /
              pathType: Prefix
      tls:
        - secretName: home-code-cert
          hosts:
            - home-code.kng.house
#wget -O - https://get.hacs.xyz | bash -