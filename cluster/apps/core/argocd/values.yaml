configs:
  url: https://argocd.kng.house
  cm:
    kustomize.buildOptions: --enable-helm
  dex.config: |
      connectors:
      - config:
          issuer: https://auth.kng.house/application/o/argocd/
          clientID: VVkdBRxDPMXgc2sZXQpND3rAJhNU42dADpsNfjVa
          clientSecret: $dex.authentik.clientSecret
          insecureEnableGroups: true
          scopes:
            - openid
            - profile
            - email
        name: authentik
        type: oidc
        id: authentik
rbac:
    policy.csv: |
        g, ArgoCD Admins, role:admin
        g, ArgoCD Viewers, role:readonly

server:
  ingress:
    hostname: argocd.kng.house
    enabled: true
    ingressClassName: nginx
    tls: true
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
      external-dns.alpha.kubernetes.io/hostname: argocd.kng.house
      nginx.ingress.kubernetes.io/ssl-passthrough: "true"
      nginx.ingress.kubernetes.io/force-ssl-redirect: "true"
      nginx.ingress.kubernetes.io/backend-protocol: HTTPS