image:
  repository: ghcr.io/unpoller/unpoller
  tag: v2.16.0
  pullPolicy: IfNotPresent

# Disable Grafana Operator dashboards (we don't have the operator)
# Dashboards will need to be imported manually into Grafana
dashboards:
  create: false
  grafana:
    create: false

# Don't use upConfig - we'll mount the config from a secret instead
# This empty/minimal config prevents the chart from creating its own ConfigMap
upConfig: ""

# Mount the config file from our sealed secret
extraVolumes:
  - name: config-secret
    secret:
      secretName: unifi-poller-secrets
      items:
        - key: up.conf
          path: up.conf

extraVolumeMounts:
  - name: config-secret
    mountPath: /etc/unpoller/up.conf
    subPath: up.conf
    readOnly: true

# Enable PodMonitor for Prometheus Operator
podMonitor:
  enabled: true
  interval: 2m
  scrapeTimeout: 30s

resources:
  requests:
    cpu: 100m
    memory: 128Mi
  limits:
    memory: 512Mi
