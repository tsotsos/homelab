apiVersion: v1
kind: ConfigMap
metadata:
  name: zigbee2mqtt-config
  namespace: zigbee2mqtt
data:
  configuration.yaml: |
    # Zigbee2MQTT Configuration
    # Credentials and network keys injected via environment variables
    version: 4
    homeassistant:
      enabled: true
    permit_join: false
    frontend:
      enabled: true
      port: 8080
    availability:
      enabled: true
      active:
        timeout: 20
      passive:
        timeout: 740
    advanced:
      transmit_power: 20
      channel: 25
      log_level: info
      cache_state: true
      last_seen: ISO_8601
      rtscts: false
    # Disable onboarding wizard
    onboarding: false
