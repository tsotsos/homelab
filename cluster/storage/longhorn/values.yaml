# Persistence settings
persistence:
  defaultClass: true
  defaultFsType: ext4
  defaultClassReplicaCount: 2
  defaultDataLocality: disabled

# Disable pre-upgrade checker for GitOps (ArgoCD)
preUpgradeChecker:
  jobEnabled: false
  upgradeVersionCheck: false

# Default settings
defaultSettings:
  defaultReplicaCount: 2
  #defaultDataPath: /var/mnt/sata/longhorn  # TODO: Configure SATA mount properly
  #backupTarget: nfs://nas.kng.house:/mnt/backups/longhorn
  
  # Optimize for Cilium setup
  guaranteedInstanceManagerCPU: 12
  
  # HA across physical nodes (3 bare-metal nodes)
  replicaSoftAntiAffinity: true
  replicaDiskSoftAntiAffinity: true
  
  # Storage optimization
  storageMinimalAvailablePercentage: 10

# Ingress configuration for Cilium Ingress Controller
# Disabled: Using Authentik proxy ingress (see ingress-auth.yaml)
ingress:
  enabled: false
  ingressClassName: cilium
  host: longhorn.kng.house
  path: /
  pathType: Prefix
  tls: true
  tlsSecret: longhorn-tls
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-dns

# Service configuration
service:
  ui:
    type: ClusterIP

